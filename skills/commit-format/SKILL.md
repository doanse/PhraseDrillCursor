---
name: commit-format
description: Генерирует сообщения коммитов в нумерованном формате #N <описание>. Использовать при коммитах, написании сообщения коммита или когда пользователь упоминает коммиты или формат коммитов. Обеспечивает последовательную нумерацию по истории git.
---

# Нумерованные сообщения коммитов

## Формат

Каждое сообщение коммита должно соответствовать формату:

```
#N <Описание в повелительном наклонении на английском>
```

- **N** — порядковый номер (1, 2, 3, …), уникальный в рамках репозитория.
- **Описание** — одна строка, повелительное наклонение (например «Implement…», «Fix…», «Add…»), без точки в конце.

**Примеры:**
- `#2 Implement dynamic topic loading from API in App component`
- `#1 Add initial project setup`
- `#3 Fix topic list not updating after refresh`

## Порядок действий

### 1. Определить следующий номер

Перед написанием сообщения получить последний номер коммита в текущей ветке:

```bash
git log --oneline -50
```

Найти в заголовках сообщений первый `#N`. Следующий коммит — **max(N) + 1**. Если в истории нет `#N`, использовать **1**.

**Одной строкой (если доступно):**
```bash
git log --oneline -50 | grep -oE '#[0-9]+' | head -1
```
Если результат, например, `#5`, следующий номер — **6**.

### 2. Написать сообщение

- Использовать **следующий номер** как `#N`.
- Описание — **короткое**, в **повелительном наклонении**, на **английском**.
- Без точки в конце.
- Не повторять номер в других частях сообщения.

### 3. Выполнить коммит

Использовать эту строку как сообщение коммита:

```bash
git commit -m "#<N> <Описание>"
```

## Правила

- Всегда брать N из истории git, не угадывать.
- При нескольких коммитах подряд увеличивать N для каждого (например #6, затем #7).
- Описание: начинать с глагола (Add, Fix, Implement, Refactor, Update, Remove и т.п.).
