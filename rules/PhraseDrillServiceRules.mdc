---
description: Правила только для PhraseDrillService
globs: PhraseDrillService/**/*
alwaysApply: false
---

# PhraseDrillService — ASP.NET Core Web API (.NET 10, C#)

- Добавляй краткое XML-описание к публичным методам и классам.

## Контроллеры и эндпоинты

- Контроллеры: суффикс `Controller`, наследование от `ControllerBase`. Маршрут через `[Route("api/[controller]")]`.
- Все действия асинхронные: возвращай `Task<T>` / `Task<IActionResult>`, используй `async`/`await`.
- Возвращай типизированные результаты: `Ok()`, `NotFound()`, `BadRequest()`, `CreatedAtAction()` и т.п. Не возвращай сырые исключения в ответах.

## Сервисы и DI

- Бизнес-логику выноси в отдельные сервисы (интерфейс + реализация). Регистрируй в DI: `AddScoped` для сервисов с контекстом запроса.
- В конструкторах инжектируй только зависимости; не выполняй тяжёлую инициализацию в конструкторе.

## Обработка ошибок

- В API не пробрасывай стек исключений наружу. Используй глобальный обработчик (middleware или `IExceptionHandler`) и возвращай единый формат ошибок (например, ProblemDetails).

## Стиль и структура

- Именование: PascalCase для типов и методов, camelCase для параметров и локальных переменных.
- Один проект/слой — одна зона ответственности (API, Application, Domain/Infrastructure по необходимости).
