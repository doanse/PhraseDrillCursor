---
name: sync-changes
description: Синхронизирует изменения с удалённым репозиторием (pull, затем push). Использовать, когда пользователь просит sync, sync changes, синхронизировать, отправить изменения, push, pull или обновить/отправить репозиторий.
---

# Sync changes

## Назначение

При запросе синхронизации с удалённым репозиторием выполнить **pull**, затем **push** в каждом затронутом git-репозитории.

## Порядок действий

### 1. Определить репозитории

- Если пользователь в контексте одного проекта — работать в корне этого репозитория.
- Если в контексте несколько репозиториев (например, фронт и бэкенд) или workspace содержит несколько папок с `.git` — выполнить sync **в каждом** таком репозитории.

Проверка: в корне папки есть `.git` (или `git status` не выдаёт "not a git repository").

### 2. В каждом репозитории выполнить

1. **Pull** (подтянуть удалённые изменения):
   ```bash
   git pull --rebase
   ```
   При отказе rebase или конфликтах можно использовать `git pull` (merge). При конфликтах — сообщить пользователю.

2. **Push** (отправить локальные коммиты):
   ```bash
   git push
   ```

Команды выполнять из **корня репозитория** (где лежит `.git`).

### 3. Результат

Кратко сообщить по каждому репозиторию: успешно ли выполнились pull и push, либо какая ошибка (например, конфликт, отказ доступа, нет upstream).

## Правила

- Сначала всегда **pull**, потом **push**, чтобы не перезаписать удалённую историю без необходимости.
- Не делать force-push без явной просьбы пользователя.
- В PowerShell использовать `;` между командами при смене директории: `cd path; git pull --rebase; git push`.
